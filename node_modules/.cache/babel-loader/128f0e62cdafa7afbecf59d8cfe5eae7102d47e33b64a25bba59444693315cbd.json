{"ast":null,"code":"import axios from'axios';const API_KEY=process.env.REACT_APP_NEWS_API_KEY||'223fe5e8f44845d5bb0250dd3f548979';// Use environment variable or fallback\nconst BASE_URL='https://newsapi.org/v2';const newsApi=axios.create({baseURL:BASE_URL,headers:{'X-Api-Key':API_KEY}});export const searchNews=async function(query){let page=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;let filters=arguments.length>2?arguments[2]:undefined;try{const params={q:query,page,pageSize:(filters===null||filters===void 0?void 0:filters.pageSize)||20,sortBy:(filters===null||filters===void 0?void 0:filters.sortBy)||'publishedAt',language:(filters===null||filters===void 0?void 0:filters.language)||'en'};// Add date filters if provided\nif(filters!==null&&filters!==void 0&&filters.dateFrom){params.from=filters.dateFrom;}if(filters!==null&&filters!==void 0&&filters.dateTo){params.to=filters.dateTo;}const response=await newsApi.get('/everything',{params});return response.data;}catch(error){console.error('Error fetching news:',error);throw new Error('Failed to fetch news articles');}};export const getTopHeadlines=async()=>{try{const response=await newsApi.get('/top-headlines',{params:{country:'us',pageSize:20}});return response.data;}catch(error){console.error('Error fetching top headlines:',error);throw new Error('Failed to fetch top headlines');}};export const formatDate=dateString=>{const date=new Date(dateString);return date.toLocaleDateString('en-US',{year:'numeric',month:'long',day:'numeric'});};export const truncateText=(text,maxLength)=>{if(text.length<=maxLength)return text;return text.substring(0,maxLength)+'...';};","map":{"version":3,"names":["axios","API_KEY","process","env","REACT_APP_NEWS_API_KEY","BASE_URL","newsApi","create","baseURL","headers","searchNews","query","page","arguments","length","undefined","filters","params","q","pageSize","sortBy","language","dateFrom","from","dateTo","to","response","get","data","error","console","Error","getTopHeadlines","country","formatDate","dateString","date","Date","toLocaleDateString","year","month","day","truncateText","text","maxLength","substring"],"sources":["D:/Curser Projects/src/services/newsApi.ts"],"sourcesContent":["import axios from 'axios';\r\nimport { NewsApiResponse, Article } from '../types';\r\nimport { SearchFilters } from '../types/search';\r\n\r\nconst API_KEY = process.env.REACT_APP_NEWS_API_KEY || '223fe5e8f44845d5bb0250dd3f548979'; // Use environment variable or fallback\r\nconst BASE_URL = 'https://newsapi.org/v2';\r\n\r\nconst newsApi = axios.create({\r\n  baseURL: BASE_URL,\r\n  headers: {\r\n    'X-Api-Key': API_KEY,\r\n  },\r\n});\r\n\r\nexport const searchNews = async (query: string, page: number = 1, filters?: SearchFilters): Promise<NewsApiResponse> => {\r\n  try {\r\n    const params: any = {\r\n      q: query,\r\n      page,\r\n      pageSize: filters?.pageSize || 20,\r\n      sortBy: filters?.sortBy || 'publishedAt',\r\n      language: filters?.language || 'en',\r\n    };\r\n\r\n    // Add date filters if provided\r\n    if (filters?.dateFrom) {\r\n      params.from = filters.dateFrom;\r\n    }\r\n    if (filters?.dateTo) {\r\n      params.to = filters.dateTo;\r\n    }\r\n\r\n    const response = await newsApi.get('/everything', { params });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error fetching news:', error);\r\n    throw new Error('Failed to fetch news articles');\r\n  }\r\n};\r\n\r\nexport const getTopHeadlines = async (): Promise<NewsApiResponse> => {\r\n  try {\r\n    const response = await newsApi.get('/top-headlines', {\r\n      params: {\r\n        country: 'us',\r\n        pageSize: 20,\r\n      },\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error fetching top headlines:', error);\r\n    throw new Error('Failed to fetch top headlines');\r\n  }\r\n};\r\n\r\nexport const formatDate = (dateString: string): string => {\r\n  const date = new Date(dateString);\r\n  return date.toLocaleDateString('en-US', {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric',\r\n  });\r\n};\r\n\r\nexport const truncateText = (text: string, maxLength: number): string => {\r\n  if (text.length <= maxLength) return text;\r\n  return text.substring(0, maxLength) + '...';\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}