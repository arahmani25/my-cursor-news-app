{"ast":null,"code":"var _jsxFileName = \"D:\\\\Curser Projects\\\\src\\\\contexts\\\\AuthContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { loginUser, registerUser, resetPassword, checkEmailExists } from '../services/authService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext(undefined);\nexport const useAuth = () => {\n  _s();\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n_s(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const AuthProvider = ({\n  children\n}) => {\n  _s2();\n  const [user, setUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    // Check for stored user data on app load\n    const storedUser = localStorage.getItem('currentUser');\n    if (storedUser) {\n      const userData = JSON.parse(storedUser);\n      setUser(userData);\n      setIsAuthenticated(true);\n    }\n    setLoading(false);\n  }, []);\n  const login = async (email, password) => {\n    try {\n      const userData = await loginUser(email, password);\n      setUser(userData);\n      setIsAuthenticated(true);\n      localStorage.setItem('currentUser', JSON.stringify(userData));\n    } catch (error) {\n      throw error;\n    }\n  };\n  const register = async (email, password, name) => {\n    try {\n      const userData = await registerUser(email, password, name);\n      setUser(userData);\n      setIsAuthenticated(true);\n      localStorage.setItem('currentUser', JSON.stringify(userData));\n    } catch (error) {\n      throw error;\n    }\n  };\n  const logout = () => {\n    setUser(null);\n    setIsAuthenticated(false);\n    localStorage.removeItem('currentUser');\n  };\n  const saveArticle = article => {\n    if (user) {\n      const updatedUser = {\n        ...user,\n        savedArticles: [...user.savedArticles, article]\n      };\n      setUser(updatedUser);\n      localStorage.setItem('currentUser', JSON.stringify(updatedUser));\n    }\n  };\n  const unsaveArticle = articleUrl => {\n    if (user) {\n      const updatedUser = {\n        ...user,\n        savedArticles: user.savedArticles.filter(article => article.url !== articleUrl)\n      };\n      setUser(updatedUser);\n      localStorage.setItem('currentUser', JSON.stringify(updatedUser));\n    }\n  };\n  const forgotPassword = async email => {\n    try {\n      const emailExists = await checkEmailExists(email);\n      if (!emailExists) {\n        throw new Error('Email not found in our system');\n      }\n      // In a real app, this would send an email\n      return true;\n    } catch (error) {\n      throw error;\n    }\n  };\n  const resetUserPassword = async (email, newPassword) => {\n    try {\n      await resetPassword(email, newPassword);\n    } catch (error) {\n      throw error;\n    }\n  };\n  const value = {\n    user,\n    login,\n    register,\n    logout,\n    saveArticle,\n    unsaveArticle,\n    isAuthenticated,\n    forgotPassword,\n    resetUserPassword,\n    loading\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 10\n  }, this);\n};\n_s2(AuthProvider, \"MIOyihIJe1jbesOAPrjh1+/HIzc=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","loginUser","registerUser","resetPassword","checkEmailExists","jsxDEV","_jsxDEV","AuthContext","undefined","useAuth","_s","context","Error","AuthProvider","children","_s2","user","setUser","isAuthenticated","setIsAuthenticated","loading","setLoading","storedUser","localStorage","getItem","userData","JSON","parse","login","email","password","setItem","stringify","error","register","name","logout","removeItem","saveArticle","article","updatedUser","savedArticles","unsaveArticle","articleUrl","filter","url","forgotPassword","emailExists","resetUserPassword","newPassword","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Curser Projects/src/contexts/AuthContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\nimport { AuthContextType, User, Article } from '../types';\r\nimport { \r\n  loginUser, \r\n  registerUser, \r\n  resetPassword, \r\n  checkEmailExists,\r\n  getUserById \r\n} from '../services/authService';\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext);\r\n  if (context === undefined) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\ninterface AuthProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport const AuthProvider: React.FC<AuthProviderProps> = ({ children }) => {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Check for stored user data on app load\r\n    const storedUser = localStorage.getItem('currentUser');\r\n    if (storedUser) {\r\n      const userData = JSON.parse(storedUser);\r\n      setUser(userData);\r\n      setIsAuthenticated(true);\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  const login = async (email: string, password: string) => {\r\n    try {\r\n      const userData = await loginUser(email, password);\r\n      setUser(userData);\r\n      setIsAuthenticated(true);\r\n      localStorage.setItem('currentUser', JSON.stringify(userData));\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const register = async (email: string, password: string, name: string) => {\r\n    try {\r\n      const userData = await registerUser(email, password, name);\r\n      setUser(userData);\r\n      setIsAuthenticated(true);\r\n      localStorage.setItem('currentUser', JSON.stringify(userData));\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const logout = () => {\r\n    setUser(null);\r\n    setIsAuthenticated(false);\r\n    localStorage.removeItem('currentUser');\r\n  };\r\n\r\n  const saveArticle = (article: Article) => {\r\n    if (user) {\r\n      const updatedUser = {\r\n        ...user,\r\n        savedArticles: [...user.savedArticles, article],\r\n      };\r\n      setUser(updatedUser);\r\n      localStorage.setItem('currentUser', JSON.stringify(updatedUser));\r\n    }\r\n  };\r\n\r\n  const unsaveArticle = (articleUrl: string) => {\r\n    if (user) {\r\n      const updatedUser = {\r\n        ...user,\r\n        savedArticles: user.savedArticles.filter(\r\n          (article) => article.url !== articleUrl\r\n        ),\r\n      };\r\n      setUser(updatedUser);\r\n      localStorage.setItem('currentUser', JSON.stringify(updatedUser));\r\n    }\r\n  };\r\n\r\n  const forgotPassword = async (email: string) => {\r\n    try {\r\n      const emailExists = await checkEmailExists(email);\r\n      if (!emailExists) {\r\n        throw new Error('Email not found in our system');\r\n      }\r\n      // In a real app, this would send an email\r\n      return true;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const resetUserPassword = async (email: string, newPassword: string) => {\r\n    try {\r\n      await resetPassword(email, newPassword);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const value: AuthContextType = {\r\n    user,\r\n    login,\r\n    register,\r\n    logout,\r\n    saveArticle,\r\n    unsaveArticle,\r\n    isAuthenticated,\r\n    forgotPassword,\r\n    resetUserPassword,\r\n    loading\r\n  };\r\n\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\r\n}; "],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAmB,OAAO;AAExF,SACEC,SAAS,EACTC,YAAY,EACZC,aAAa,EACbC,gBAAgB,QAEX,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjC,MAAMC,WAAW,gBAAGV,aAAa,CAA8BW,SAAS,CAAC;AAEzE,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAMC,OAAO,GAAGb,UAAU,CAACS,WAAW,CAAC;EACvC,IAAII,OAAO,KAAKH,SAAS,EAAE;IACzB,MAAM,IAAII,KAAK,CAAC,6CAA6C,CAAC;EAChE;EACA,OAAOD,OAAO;AAChB,CAAC;AAACD,EAAA,CANWD,OAAO;AAYpB,OAAO,MAAMI,YAAyC,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EACzE,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGlB,QAAQ,CAAc,IAAI,CAAC;EACnD,MAAM,CAACmB,eAAe,EAAEC,kBAAkB,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACqB,OAAO,EAAEC,UAAU,CAAC,GAAGtB,QAAQ,CAAC,IAAI,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd;IACA,MAAMsB,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;IACtD,IAAIF,UAAU,EAAE;MACd,MAAMG,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACL,UAAU,CAAC;MACvCL,OAAO,CAACQ,QAAQ,CAAC;MACjBN,kBAAkB,CAAC,IAAI,CAAC;IAC1B;IACAE,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMO,KAAK,GAAG,MAAAA,CAAOC,KAAa,EAAEC,QAAgB,KAAK;IACvD,IAAI;MACF,MAAML,QAAQ,GAAG,MAAMxB,SAAS,CAAC4B,KAAK,EAAEC,QAAQ,CAAC;MACjDb,OAAO,CAACQ,QAAQ,CAAC;MACjBN,kBAAkB,CAAC,IAAI,CAAC;MACxBI,YAAY,CAACQ,OAAO,CAAC,aAAa,EAAEL,IAAI,CAACM,SAAS,CAACP,QAAQ,CAAC,CAAC;IAC/D,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF,CAAC;EAED,MAAMC,QAAQ,GAAG,MAAAA,CAAOL,KAAa,EAAEC,QAAgB,EAAEK,IAAY,KAAK;IACxE,IAAI;MACF,MAAMV,QAAQ,GAAG,MAAMvB,YAAY,CAAC2B,KAAK,EAAEC,QAAQ,EAAEK,IAAI,CAAC;MAC1DlB,OAAO,CAACQ,QAAQ,CAAC;MACjBN,kBAAkB,CAAC,IAAI,CAAC;MACxBI,YAAY,CAACQ,OAAO,CAAC,aAAa,EAAEL,IAAI,CAACM,SAAS,CAACP,QAAQ,CAAC,CAAC;IAC/D,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF,CAAC;EAED,MAAMG,MAAM,GAAGA,CAAA,KAAM;IACnBnB,OAAO,CAAC,IAAI,CAAC;IACbE,kBAAkB,CAAC,KAAK,CAAC;IACzBI,YAAY,CAACc,UAAU,CAAC,aAAa,CAAC;EACxC,CAAC;EAED,MAAMC,WAAW,GAAIC,OAAgB,IAAK;IACxC,IAAIvB,IAAI,EAAE;MACR,MAAMwB,WAAW,GAAG;QAClB,GAAGxB,IAAI;QACPyB,aAAa,EAAE,CAAC,GAAGzB,IAAI,CAACyB,aAAa,EAAEF,OAAO;MAChD,CAAC;MACDtB,OAAO,CAACuB,WAAW,CAAC;MACpBjB,YAAY,CAACQ,OAAO,CAAC,aAAa,EAAEL,IAAI,CAACM,SAAS,CAACQ,WAAW,CAAC,CAAC;IAClE;EACF,CAAC;EAED,MAAME,aAAa,GAAIC,UAAkB,IAAK;IAC5C,IAAI3B,IAAI,EAAE;MACR,MAAMwB,WAAW,GAAG;QAClB,GAAGxB,IAAI;QACPyB,aAAa,EAAEzB,IAAI,CAACyB,aAAa,CAACG,MAAM,CACrCL,OAAO,IAAKA,OAAO,CAACM,GAAG,KAAKF,UAC/B;MACF,CAAC;MACD1B,OAAO,CAACuB,WAAW,CAAC;MACpBjB,YAAY,CAACQ,OAAO,CAAC,aAAa,EAAEL,IAAI,CAACM,SAAS,CAACQ,WAAW,CAAC,CAAC;IAClE;EACF,CAAC;EAED,MAAMM,cAAc,GAAG,MAAOjB,KAAa,IAAK;IAC9C,IAAI;MACF,MAAMkB,WAAW,GAAG,MAAM3C,gBAAgB,CAACyB,KAAK,CAAC;MACjD,IAAI,CAACkB,WAAW,EAAE;QAChB,MAAM,IAAInC,KAAK,CAAC,+BAA+B,CAAC;MAClD;MACA;MACA,OAAO,IAAI;IACb,CAAC,CAAC,OAAOqB,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF,CAAC;EAED,MAAMe,iBAAiB,GAAG,MAAAA,CAAOnB,KAAa,EAAEoB,WAAmB,KAAK;IACtE,IAAI;MACF,MAAM9C,aAAa,CAAC0B,KAAK,EAAEoB,WAAW,CAAC;IACzC,CAAC,CAAC,OAAOhB,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF,CAAC;EAED,MAAMiB,KAAsB,GAAG;IAC7BlC,IAAI;IACJY,KAAK;IACLM,QAAQ;IACRE,MAAM;IACNE,WAAW;IACXI,aAAa;IACbxB,eAAe;IACf4B,cAAc;IACdE,iBAAiB;IACjB5B;EACF,CAAC;EAED,oBAAOd,OAAA,CAACC,WAAW,CAAC4C,QAAQ;IAACD,KAAK,EAAEA,KAAM;IAAApC,QAAA,EAAEA;EAAQ;IAAAsC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAuB,CAAC;AAC9E,CAAC;AAACxC,GAAA,CAvGWF,YAAyC;AAAA2C,EAAA,GAAzC3C,YAAyC;AAAA,IAAA2C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}