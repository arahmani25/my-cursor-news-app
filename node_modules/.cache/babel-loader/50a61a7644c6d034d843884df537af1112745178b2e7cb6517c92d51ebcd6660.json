{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookmarkButton=_ref=>{let{article,collections,bookmarks,onAddBookmark,onRemoveBookmark}=_ref;const[showDropdown,setShowDropdown]=useState(false);const[selectedCollection,setSelectedCollection]=useState('');const[note,setNote]=useState('');const existingBookmark=bookmarks.find(b=>b.articleId===article.url);const isBookmarked=!!existingBookmark;const handleBookmark=()=>{if(isBookmarked){onRemoveBookmark(article.url);}else{onAddBookmark(article.url,selectedCollection||undefined,note||undefined);setSelectedCollection('');setNote('');}setShowDropdown(false);};const handleQuickBookmark=collectionId=>{onAddBookmark(article.url,collectionId);setShowDropdown(false);};const getCollectionById=id=>{return collections.find(c=>c.id===id);};const currentCollection=existingBookmark!==null&&existingBookmark!==void 0&&existingBookmark.collectionId?getCollectionById(existingBookmark.collectionId):null;return/*#__PURE__*/_jsxs(\"div\",{className:\"bookmark-button-container\",children:[/*#__PURE__*/_jsxs(\"button\",{className:`bookmark-button ${isBookmarked?'bookmarked':''}`,onClick:()=>setShowDropdown(!showDropdown),title:isBookmarked?'Remove bookmark':'Add to collection',children:[/*#__PURE__*/_jsx(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 24 24\",fill:isBookmarked?'currentColor':'none',stroke:\"currentColor\",strokeWidth:\"2\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z\"})}),isBookmarked&&currentCollection&&/*#__PURE__*/_jsx(\"span\",{className:\"collection-indicator\",style:{backgroundColor:currentCollection.color},title:currentCollection.name})]}),showDropdown&&/*#__PURE__*/_jsx(\"div\",{className:\"bookmark-dropdown\",children:isBookmarked?/*#__PURE__*/_jsxs(\"div\",{className:\"bookmark-remove\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Remove from collection?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleBookmark,className:\"danger-button\",children:\"Remove Bookmark\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDropdown(false),className:\"secondary-button\",children:\"Cancel\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"bookmark-add\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Add to Collection\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"quick-collections\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Quick add:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"quick-buttons\",children:collections.slice(0,4).map(collection=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleQuickBookmark(collection.id),className:\"quick-bookmark-button\",style:{borderColor:collection.color},children:[/*#__PURE__*/_jsx(\"span\",{className:\"color-dot\",style:{backgroundColor:collection.color}}),collection.name]},collection.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"custom-bookmark\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Or choose collection:\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedCollection,onChange:e=>setSelectedCollection(e.target.value),className:\"collection-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select collection...\"}),collections.map(collection=>/*#__PURE__*/_jsx(\"option\",{value:collection.id,children:collection.name},collection.id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"note-input\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Note (optional):\"}),/*#__PURE__*/_jsx(\"textarea\",{value:note,onChange:e=>setNote(e.target.value),placeholder:\"Add a personal note...\",rows:3,className:\"note-textarea\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleBookmark,className:\"primary-button\",disabled:!selectedCollection,children:\"Add to Collection\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDropdown(false),className:\"secondary-button\",children:\"Cancel\"})]})]})]})})]});};export default BookmarkButton;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","BookmarkButton","_ref","article","collections","bookmarks","onAddBookmark","onRemoveBookmark","showDropdown","setShowDropdown","selectedCollection","setSelectedCollection","note","setNote","existingBookmark","find","b","articleId","url","isBookmarked","handleBookmark","undefined","handleQuickBookmark","collectionId","getCollectionById","id","c","currentCollection","className","children","onClick","title","width","height","viewBox","fill","stroke","strokeWidth","d","style","backgroundColor","color","name","slice","map","collection","borderColor","value","onChange","e","target","placeholder","rows","disabled"],"sources":["D:/Curser Projects/src/components/BookmarkButton.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Article } from '../types';\r\nimport { Collection, Bookmark } from '../types/collections';\r\n\r\ninterface BookmarkButtonProps {\r\n  article: Article;\r\n  collections: Collection[];\r\n  bookmarks: Bookmark[];\r\n  onAddBookmark: (articleId: string, collectionId?: string, note?: string) => void;\r\n  onRemoveBookmark: (articleId: string) => void;\r\n}\r\n\r\nconst BookmarkButton: React.FC<BookmarkButtonProps> = ({\r\n  article,\r\n  collections,\r\n  bookmarks,\r\n  onAddBookmark,\r\n  onRemoveBookmark\r\n}) => {\r\n  const [showDropdown, setShowDropdown] = useState(false);\r\n  const [selectedCollection, setSelectedCollection] = useState<string>('');\r\n  const [note, setNote] = useState('');\r\n\r\n  const existingBookmark = bookmarks.find(b => b.articleId === article.url);\r\n  const isBookmarked = !!existingBookmark;\r\n\r\n  const handleBookmark = () => {\r\n    if (isBookmarked) {\r\n      onRemoveBookmark(article.url);\r\n    } else {\r\n      onAddBookmark(article.url, selectedCollection || undefined, note || undefined);\r\n      setSelectedCollection('');\r\n      setNote('');\r\n    }\r\n    setShowDropdown(false);\r\n  };\r\n\r\n  const handleQuickBookmark = (collectionId: string) => {\r\n    onAddBookmark(article.url, collectionId);\r\n    setShowDropdown(false);\r\n  };\r\n\r\n  const getCollectionById = (id: string) => {\r\n    return collections.find(c => c.id === id);\r\n  };\r\n\r\n  const currentCollection = existingBookmark?.collectionId \r\n    ? getCollectionById(existingBookmark.collectionId)\r\n    : null;\r\n\r\n  return (\r\n    <div className=\"bookmark-button-container\">\r\n      <button\r\n        className={`bookmark-button ${isBookmarked ? 'bookmarked' : ''}`}\r\n        onClick={() => setShowDropdown(!showDropdown)}\r\n        title={isBookmarked ? 'Remove bookmark' : 'Add to collection'}\r\n      >\r\n        <svg \r\n          width=\"20\" \r\n          height=\"20\" \r\n          viewBox=\"0 0 24 24\" \r\n          fill={isBookmarked ? 'currentColor' : 'none'} \r\n          stroke=\"currentColor\" \r\n          strokeWidth=\"2\"\r\n        >\r\n          <path d=\"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z\"/>\r\n        </svg>\r\n        {isBookmarked && currentCollection && (\r\n          <span \r\n            className=\"collection-indicator\"\r\n            style={{ backgroundColor: currentCollection.color }}\r\n            title={currentCollection.name}\r\n          />\r\n        )}\r\n      </button>\r\n\r\n      {showDropdown && (\r\n        <div className=\"bookmark-dropdown\">\r\n          {isBookmarked ? (\r\n            <div className=\"bookmark-remove\">\r\n              <p>Remove from collection?</p>\r\n              <div className=\"dropdown-actions\">\r\n                <button \r\n                  onClick={handleBookmark}\r\n                  className=\"danger-button\"\r\n                >\r\n                  Remove Bookmark\r\n                </button>\r\n                <button \r\n                  onClick={() => setShowDropdown(false)}\r\n                  className=\"secondary-button\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"bookmark-add\">\r\n              <h4>Add to Collection</h4>\r\n              \r\n              <div className=\"quick-collections\">\r\n                <p>Quick add:</p>\r\n                <div className=\"quick-buttons\">\r\n                  {collections.slice(0, 4).map(collection => (\r\n                    <button\r\n                      key={collection.id}\r\n                      onClick={() => handleQuickBookmark(collection.id)}\r\n                      className=\"quick-bookmark-button\"\r\n                      style={{ borderColor: collection.color }}\r\n                    >\r\n                      <span \r\n                        className=\"color-dot\"\r\n                        style={{ backgroundColor: collection.color }}\r\n                      />\r\n                      {collection.name}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"custom-bookmark\">\r\n                <p>Or choose collection:</p>\r\n                <select\r\n                  value={selectedCollection}\r\n                  onChange={(e) => setSelectedCollection(e.target.value)}\r\n                  className=\"collection-select\"\r\n                >\r\n                  <option value=\"\">Select collection...</option>\r\n                  {collections.map(collection => (\r\n                    <option key={collection.id} value={collection.id}>\r\n                      {collection.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n\r\n                <div className=\"note-input\">\r\n                  <label>Note (optional):</label>\r\n                  <textarea\r\n                    value={note}\r\n                    onChange={(e) => setNote(e.target.value)}\r\n                    placeholder=\"Add a personal note...\"\r\n                    rows={3}\r\n                    className=\"note-textarea\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"dropdown-actions\">\r\n                  <button \r\n                    onClick={handleBookmark}\r\n                    className=\"primary-button\"\r\n                    disabled={!selectedCollection}\r\n                  >\r\n                    Add to Collection\r\n                  </button>\r\n                  <button \r\n                    onClick={() => setShowDropdown(false)}\r\n                    className=\"secondary-button\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookmarkButton; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}