{"ast":null,"code":"import React from'react';import{useAuth}from'../contexts/AuthContext';import{formatDate,truncateText}from'../services/newsApi';import ShareButton from'./ShareButton';import BookmarkButton from'./BookmarkButton';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ArticleCard=_ref=>{let{article,collections=[],bookmarks=[],onAddBookmark,onRemoveBookmark}=_ref;const{isAuthenticated,saveArticle,unsaveArticle,user}=useAuth();const isSaved=user===null||user===void 0?void 0:user.savedArticles.some(savedArticle=>savedArticle.url===article.url);const handleSaveToggle=()=>{if(isSaved){unsaveArticle(article.url);}else{saveArticle(article);}};const handleReadMore=()=>{window.open(article.url,'_blank');};return/*#__PURE__*/_jsxs(\"div\",{className:\"article-card\",children:[article.urlToImage&&/*#__PURE__*/_jsx(\"img\",{src:article.urlToImage,alt:article.title,className:\"article-image\",onError:e=>{const target=e.target;target.style.display='none';}}),/*#__PURE__*/_jsxs(\"div\",{className:\"article-content\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"article-title\",children:article.title}),article.description&&/*#__PURE__*/_jsx(\"p\",{className:\"article-description\",children:truncateText(article.description,150)}),/*#__PURE__*/_jsxs(\"div\",{className:\"article-meta\",children:[/*#__PURE__*/_jsx(\"span\",{children:article.source.name}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(article.publishedAt)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"article-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleReadMore,className:\"action-button read-button\",children:\"Read More\"}),isAuthenticated&&/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveToggle,className:`action-button ${isSaved?'unsave-button':'save-button'}`,children:isSaved?'Unsave':'Save'}),isAuthenticated&&onAddBookmark&&onRemoveBookmark&&/*#__PURE__*/_jsx(BookmarkButton,{article:article,collections:collections,bookmarks:bookmarks,onAddBookmark:onAddBookmark,onRemoveBookmark:onRemoveBookmark}),/*#__PURE__*/_jsx(ShareButton,{article:article,size:\"small\"})]})]})]});};export default ArticleCard;","map":{"version":3,"names":["React","useAuth","formatDate","truncateText","ShareButton","BookmarkButton","jsx","_jsx","jsxs","_jsxs","ArticleCard","_ref","article","collections","bookmarks","onAddBookmark","onRemoveBookmark","isAuthenticated","saveArticle","unsaveArticle","user","isSaved","savedArticles","some","savedArticle","url","handleSaveToggle","handleReadMore","window","open","className","children","urlToImage","src","alt","title","onError","e","target","style","display","description","source","name","publishedAt","onClick","size"],"sources":["D:/Curser Projects/src/components/ArticleCard.tsx"],"sourcesContent":["import React from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { Article } from '../types';\nimport { Collection, Bookmark } from '../types/collections';\nimport { formatDate, truncateText } from '../services/newsApi';\nimport ShareButton from './ShareButton';\nimport BookmarkButton from './BookmarkButton';\n\ninterface ArticleCardProps {\n  article: Article;\n  collections?: Collection[];\n  bookmarks?: Bookmark[];\n  onAddBookmark?: (articleId: string, collectionId?: string, note?: string) => void;\n  onRemoveBookmark?: (articleId: string) => void;\n}\n\nconst ArticleCard: React.FC<ArticleCardProps> = ({ \n  article, \n  collections = [], \n  bookmarks = [], \n  onAddBookmark, \n  onRemoveBookmark \n}) => {\n  const { isAuthenticated, saveArticle, unsaveArticle, user } = useAuth();\n\n  const isSaved = user?.savedArticles.some(\n    (savedArticle: any) => savedArticle.url === article.url\n  );\n\n  const handleSaveToggle = () => {\n    if (isSaved) {\n      unsaveArticle(article.url);\n    } else {\n      saveArticle(article);\n    }\n  };\n\n  const handleReadMore = () => {\n    window.open(article.url, '_blank');\n  };\n\n  return (\n    <div className=\"article-card\">\n      {article.urlToImage && (\n        <img\n          src={article.urlToImage}\n          alt={article.title}\n          className=\"article-image\"\n          onError={(e: React.SyntheticEvent<HTMLImageElement>) => {\n            const target = e.target as HTMLImageElement;\n            target.style.display = 'none';\n          }}\n        />\n      )}\n      <div className=\"article-content\">\n        <h3 className=\"article-title\">{article.title}</h3>\n        {article.description && (\n          <p className=\"article-description\">\n            {truncateText(article.description, 150)}\n          </p>\n        )}\n        <div className=\"article-meta\">\n          <span>{article.source.name}</span>\n          <span>{formatDate(article.publishedAt)}</span>\n        </div>\n        <div className=\"article-actions\">\n          <button\n            onClick={handleReadMore}\n            className=\"action-button read-button\"\n          >\n            Read More\n          </button>\n          {isAuthenticated && (\n            <button\n              onClick={handleSaveToggle}\n              className={`action-button ${\n                isSaved ? 'unsave-button' : 'save-button'\n              }`}\n            >\n              {isSaved ? 'Unsave' : 'Save'}\n            </button>\n          )}\n          {isAuthenticated && onAddBookmark && onRemoveBookmark && (\n            <BookmarkButton\n              article={article}\n              collections={collections}\n              bookmarks={bookmarks}\n              onAddBookmark={onAddBookmark}\n              onRemoveBookmark={onRemoveBookmark}\n            />\n          )}\n          <ShareButton article={article} size=\"small\" />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ArticleCard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}